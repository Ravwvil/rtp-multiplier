# RTP Multiplier Service
# RTP Multiplier Service

## Алгоритм и вывод формулы
Предположим клиентские `x` распределены **равномерно** на отрезке `[1, 10000]` для простоты решения задачи.

Вариант генерации, который даёт минимальную дисперсию при данном требовании — **детерминированный порог** `m0`:
- сервер всегда возвращает одно и то же число `m0` (в диапазоне `[1,10000]`).

Пусть L = 10000 − 1 = 9999. Тогда вклад одного элемента в суммарный `sum1` (в среднем) равен:

$$
\mathbb{E}[Y] = \frac{1}{L} \int_{1}^{m_0} x\,dx = \frac{1}{L}\left(\frac{m_0^2 - 1}{2}\right)
$$

Приравниваем к требуемому $\mathrm{rtp}$ и находим $m_0$:

$$
\frac{m_0^2 - 1}{2L} = \mathrm{rtp} \;\;\;\Rightarrow\;\;\; m_0 = \sqrt{2 \cdot \mathrm{rtp} \cdot L + 1}
$$

Логическое наблюдение: чем больше чисел в последовательности, тем алгоритм стабильнее и точнее (по закону больших чисел).

---

## Сборка и запуск
В директории проекта выполните:

```bash
# запуск с флагом -rtp:
go run . -rtp=0.96

# или если предыдущая команда не сработала:
go run . -rtp 0.96
```
Лог при старте покажет вычисленный `m0`.
---
